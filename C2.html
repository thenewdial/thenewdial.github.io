<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>C2 ‚Äî Northeast / Implementer</title>
<style>
  * { margin: 0; padding: 0; box-sizing: border-box; }
  
  body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background: #000;
    overflow: hidden;
    height: 100vh;
    width: 100vw;
  }

  body.noselect, body.noselect * {
    user-select: none !important;
  }

  .scene-container {
    width: 100vw;
    height: 100vh;
    position: relative;
    background: linear-gradient(135deg, #1a0b2e 0%, #2d1b4e 40%, #4a1a5e 100%);
    transition: background 0.6s ease;
  }

  .scene-container::after {
    content: '';
    position: absolute;
    inset: 0;
    pointer-events: none;
    background: radial-gradient(ellipse 1500px 1000px at 50% 40%, 
                rgba(124,58,237,0.2) 0%, rgba(0,0,0,0.4) 60%, rgba(0,0,0,0.7) 100%);
    z-index: 1;
  }

  /* ===== ELEMENTOS FLUTUANTES (ORBS ROXOS/M√çSTICOS) ===== */
  .orb {
    position: absolute;
    border-radius: 50%;
    filter: blur(85px);
    opacity: 0.28;
    pointer-events: none;
    z-index: 2;
  }

  .orb1 { width: 380px; height: 380px; background: #7c3aed; top: 8%; left: 12%; animation: float1 26s ease-in-out infinite; }
  .orb2 { width: 320px; height: 320px; background: #5b21b6; top: 58%; left: 62%; animation: float2 30s ease-in-out infinite; }
  .orb3 { width: 290px; height: 290px; background: #8b5cf6; top: 28%; right: 10%; animation: float3 24s ease-in-out infinite; }
  .orb4 { width: 340px; height: 340px; background: #6d28d9; bottom: 12%; left: 42%; animation: float1 28s ease-in-out infinite; }
  .orb5 { width: 270px; height: 270px; background: #a78bfa; top: 68%; left: 18%; animation: float2 25s ease-in-out infinite; }
  .orb6 { width: 310px; height: 310px; background: #4c1d95; bottom: 8%; right: 15%; animation: float3 29s ease-in-out infinite; }

  @keyframes float1 {
    0%, 100% { transform: translate(0, 0) scale(1); }
    50% { transform: translate(42px, -48px) scale(1.1); }
  }

  @keyframes float2 {
    0%, 100% { transform: translate(0, 0) scale(1); }
    50% { transform: translate(-48px, 38px) scale(0.94); }
  }

  @keyframes float3 {
    0%, 100% { transform: translate(0, 0) scale(1); }
    50% { transform: translate(38px, 42px) scale(1.06); }
  }

  /* ===== FRAMES ===== */
  .frame {
    position: absolute;
    background: rgba(124, 58, 237, 0.1);
    backdrop-filter: blur(14px) saturate(140%);
    border: 1px solid rgba(139, 92, 246, 0.35);
    border-radius: 12px;
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.55), 0 0 45px rgba(124, 58, 237, 0.15);
    overflow: hidden;
    display: flex;
    flex-direction: column;
    resize: both;
    min-width: 150px;
    min-height: 100px;
    z-index: 10;
  }

  .frame.active {
    z-index: 100;
    box-shadow: 0 12px 48px rgba(0, 0, 0, 0.75), 0 0 65px rgba(139, 92, 246, 0.25);
  }

  .frame-content {
    flex: 1;
    padding: 12px;
    color: #fff;
    overflow: auto;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .frame-content img,
  .frame-content video,
  .frame-content iframe {
    max-width: 100%;
    max-height: 100%;
    border-radius: 6px;
  }

  .frame-content iframe {
    width: 100%;
    height: 100%;
    border: none;
  }

  .frame.transparent {
    background: transparent;
    backdrop-filter: none;
    border: none;
    box-shadow: none;
  }

  .frame.transparent .window-header {
    background: transparent;
    backdrop-filter: blur(8px);
  }

  /* ===== WINDOW HEADER (invis√≠vel) ===== */
  .window-header {
    height: 20px;
    background: transparent !important;
    cursor: move;
    display: flex;
    justify-content: flex-end;
    align-items: center;
    padding: 0 4px;
  }

  .window-header button {
    background: transparent;
    border: none;
    color: transparent;
    padding: 0;
    width: 20px;
    height: 16px;
    cursor: pointer;
    font-size: 10px;
  }

  .window-header button:hover {
    background: rgba(139, 92, 246, 0.2);
    border-radius: 3px;
    color: #fff;
  }

  .window-header.dragging { cursor: grabbing; }

  .toggle-btn {
    background: #676d75;
  }

  .frame-close {
    background: rgba(220, 38, 38, 0.8) !important;
  }

  .scene-title {
    position: absolute;
    bottom: 10px;
    right: 20px;
    font-size: 14px;
    font-weight: 400;
    color: rgba(255, 255, 255, 0.7);
    text-shadow: 2px 2px 8px rgba(0, 0, 0, 0.8);
    z-index: 9999;
    pointer-events: none;
  }

  /* ===== RESPONSIVO ===== */
  @media (max-width: 768px) {
    .frame {
      min-width: 120px;
      min-height: 80px;
    }
  }
</style>
</head>
<body>

<div class="scene-container">
  <div class="scene-title">C2 ‚Äî Northeast / Implementer</div>

  <!-- ORBS FLUTUANTES ROXOS -->
  <div class="orb orb1"></div>
  <div class="orb orb2"></div>
  <div class="orb orb3"></div>
  <div class="orb orb4"></div>
  <div class="orb orb5"></div>
  <div class="orb orb6"></div>

  <!-- ========== FRAMES PR√â-CONFIGURADOS ========== -->

  <!-- üîÆ PENTAGRAMA ALQU√çMICO (arte CSS/SVG) -->
  <div id="frame-pentagram" class="frame transparent"
       style="left: 2%; top: 2%; width: 220px; height: 220px; z-index: 50;">
    <div class="window-header">
      <button class="toggle-btn" onclick="toggleSize('frame-pentagram')">‚áï</button>
      <button class="frame-close" onclick="closeFrame(this)">√ó</button>
    </div>
    <div class="frame-content" style="padding: 0;">
      <svg viewBox="0 0 220 220" style="width:100%;height:100%">
        <defs>
          <linearGradient id="pentaGrad" x1="0%" y1="0%" x2="100%" y2="100%">
            <stop offset="0%" style="stop-color:#8b5cf6;stop-opacity:0.9" />
            <stop offset="50%" style="stop-color:#7c3aed;stop-opacity:1" />
            <stop offset="100%" style="stop-color:#5b21b6;stop-opacity:0.8" />
          </linearGradient>
          <filter id="purpleGlow">
            <feGaussianBlur stdDeviation="3.5" result="coloredBlur"/>
            <feMerge>
              <feMergeNode in="coloredBlur"/>
              <feMergeNode in="SourceGraphic"/>
            </feMerge>
          </filter>
        </defs>
        
        <!-- C√≠rculo externo -->
        <circle cx="110" cy="110" r="85" fill="none" stroke="url(#pentaGrad)" stroke-width="2.5" opacity="0.6">
          <animateTransform
            attributeName="transform"
            type="rotate"
            from="0 110 110"
            to="360 110 110"
            dur="50s"
            repeatCount="indefinite"/>
        </circle>
        
        <!-- Pentagrama (5 pontas) -->
        <path d="M110,35 L132,90 L190,90 L145,125 L165,180 L110,145 L55,180 L75,125 L30,90 L88,90 Z" 
              fill="none" 
              stroke="url(#pentaGrad)" 
              stroke-width="2.5" 
              filter="url(#purpleGlow)"
              opacity="0.8"/>
        
        <!-- Centro pulsante -->
        <circle cx="110" cy="110" r="10" fill="#a78bfa" opacity="0.9">
          <animate attributeName="r" values="8;12;8" dur="3s" repeatCount="indefinite"/>
          <animate attributeName="opacity" values="0.7;1;0.7" dur="3s" repeatCount="indefinite"/>
        </circle>
        
        <!-- S√≠mbolos alqu√≠micos (pequenos c√≠rculos nas pontas) -->
        <circle cx="110" cy="35" r="4" fill="#8b5cf6"/>
        <circle cx="190" cy="90" r="4" fill="#7c3aed"/>
        <circle cx="165" cy="180" r="4" fill="#5b21b6"/>
        <circle cx="55" cy="180" r="4" fill="#6d28d9"/>
        <circle cx="30" cy="90" r="4" fill="#a78bfa"/>
      </svg>
    </div>
  </div>

  <!-- üì∫ V√çDEO YOUTUBE EMBED -->
  <div id="frame-video" class="frame" style="left: 25%; top: 12%; width: 50%; height: 45%;">
    <div class="window-header">
      <button class="toggle-btn" onclick="toggleSize('frame-video')">‚áï</button>
      <button class="frame-close" onclick="closeFrame(this)">√ó</button>
    </div>
    <div class="frame-content" style="padding: 0; width: 100%; height: calc(100% - 20px);">
      <iframe
        src="https://www.youtube.com/embed/h9KWhnCr8Mg?rel=0"
        title="The New Dial Dashboard"
        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
        allowfullscreen
        referrerpolicy="strict-origin-when-cross-origin"
        style="width: 100%; height: 100%; border: none; border-radius: 0 0 8px 8px;">
      </iframe>
    </div>
  </div>

  <!-- ‚öôÔ∏è ENGRENAGENS (s√≠mbolo da implementa√ß√£o) -->
  <div id="frame-gears" class="frame transparent" style="left: 2%; top: 28%; width: 200px; height: 200px;">
    <div class="window-header">
      <button class="toggle-btn" onclick="toggleSize('frame-gears')">‚áï</button>
      <button class="frame-close" onclick="closeFrame(this)">√ó</button>
    </div>
    <div class="frame-content" style="padding: 0;">
      <svg viewBox="0 0 200 200" style="width:100%;height:100%">
        <defs>
          <linearGradient id="gearGrad" x1="0%" y1="0%" x2="100%" y2="100%">
            <stop offset="0%" style="stop-color:#a78bfa;stop-opacity:0.8"/>
            <stop offset="100%" style="stop-color:#5b21b6;stop-opacity:0.8"/>
          </linearGradient>
        </defs>
        
        <!-- Engrenagem 1 (maior) -->
        <g transform="translate(100,100)">
          <circle r="45" fill="none" stroke="url(#gearGrad)" stroke-width="8"/>
          <circle r="20" fill="url(#gearGrad)" opacity="0.6"/>
          <!-- Dentes -->
          <rect x="-5" y="-52" width="10" height="14" fill="url(#gearGrad)"/>
          <rect x="-5" y="38" width="10" height="14" fill="url(#gearGrad)"/>
          <rect x="-52" y="-5" width="14" height="10" fill="url(#gearGrad)"/>
          <rect x="38" y="-5" width="14" height="10" fill="url(#gearGrad)"/>
          
          <animateTransform
            attributeName="transform"
            type="rotate"
            from="0 100 100"
            to="360 100 100"
            dur="8s"
            repeatCount="indefinite"/>
        </g>
        
        <!-- Engrenagem 2 (menor) -->
        <g transform="translate(140,60)">
          <circle r="28" fill="none" stroke="url(#gearGrad)" stroke-width="6"/>
          <circle r="12" fill="url(#gearGrad)" opacity="0.6"/>
          <!-- Dentes -->
          <rect x="-4" y="-32" width="8" height="10" fill="url(#gearGrad)"/>
          <rect x="-4" y="22" width="8" height="10" fill="url(#gearGrad)"/>
          <rect x="-32" y="-4" width="10" height="8" fill="url(#gearGrad)"/>
          <rect x="22" y="-4" width="10" height="8" fill="url(#gearGrad)"/>
          
          <animateTransform
            attributeName="transform"
            type="rotate"
            from="360 140 60"
            to="0 140 60"
            dur="6s"
            repeatCount="indefinite"/>
        </g>
      </svg>
    </div>
  </div>

  <!-- üß™ DIAGRAMA T√âCNICO (Dashboard features) -->
  <div id="frame-tech" class="frame" style="left: 27%; top: 62%; width: 420px; height: 300px;">
    <div class="window-header">
      <button class="toggle-btn" onclick="toggleSize('frame-tech')">‚áï</button>
      <button class="frame-close" onclick="closeFrame(this)">√ó</button>
    </div>
    <div class="frame-content">
      <div style="font-size:13px;line-height:1.7;color:rgba(255,255,255,0.95);padding:16px;overflow-y:auto;">
        <h2 style="font-size:20px;margin-bottom:16px;color:#a78bfa;text-align:center;text-transform:uppercase;letter-spacing:1.5px;">O Dashboard</h2>
        
        <p style="margin-bottom:14px;font-size:12px;">
          Sistema de <strong>broadcast profissional</strong> operado por 1 pessoa com capacidades de equipe de 15-20 profissionais.
        </p>

        <h3 style="font-size:15px;margin-bottom:10px;color:#8b5cf6;margin-top:16px;">‚ö° Caracter√≠sticas:</h3>
        <ul style="margin-left:18px;margin-bottom:12px;font-size:12px;line-height:1.6;">
          <li>üé¨ <strong>64 cenas OBS</strong> organizadas em grid 8√ó8</li>
          <li>üé≠ <strong>8 irm√£os Isa</strong> (pain√©is de controle: Soundtrack, Captions, Banner, Emblems)</li>
          <li>üé® <strong>Effect.html</strong> ‚Äî painel mestre de efeitos visuais</li>
          <li>üì° <strong>BroadcastChannel</strong> ‚Äî comunica√ß√£o entre m√≥dulos</li>
          <li>üîÆ <strong>Integra√ß√£o oracular</strong> ‚Äî I-Ching, Runas, Tarot, Tot√™micos</li>
        </ul>

        <h3 style="font-size:15px;margin-bottom:10px;color:#8b5cf6;margin-top:16px;">üèõÔ∏è Filosofia:</h3>
        <p style="font-size:12px;font-style:italic;color:#a78bfa;border-left:3px solid #7c3aed;padding-left:12px;">
          "A inten√ß√£o se torna ferramenta. O caos vira ordem. O que era disperso agora √© sistema integrado."
        </p>
      </div>
    </div>
  </div>

  <!-- üåå CONSTELA√á√ÉO (rede de n√≥s ‚Äî implementa√ß√£o como rede) -->
  <div id="frame-constellation" class="frame transparent" style="right: 3%; top: 12%; width: 260px; height: 260px;">
    <div class="window-header">
      <button class="toggle-btn" onclick="toggleSize('frame-constellation')">‚áï</button>
      <button class="frame-close" onclick="closeFrame(this)">√ó</button>
    </div>
    <div class="frame-content" style="padding: 0;">
      <svg viewBox="0 0 260 260" style="width:100%;height:100%">
        <defs>
          <radialGradient id="nodeGrad">
            <stop offset="0%" style="stop-color:#a78bfa;stop-opacity:1"/>
            <stop offset="100%" style="stop-color:#5b21b6;stop-opacity:0.6"/>
          </radialGradient>
        </defs>
        
        <!-- Linhas conectoras -->
        <line x1="130" y1="40" x2="80" y2="100" stroke="rgba(139,92,246,0.4)" stroke-width="1.5"/>
        <line x1="130" y1="40" x2="180" y2="100" stroke="rgba(139,92,246,0.4)" stroke-width="1.5"/>
        <line x1="80" y1="100" x2="130" y2="160" stroke="rgba(139,92,246,0.4)" stroke-width="1.5"/>
        <line x1="180" y1="100" x2="130" y2="160" stroke="rgba(139,92,246,0.4)" stroke-width="1.5"/>
        <line x1="130" y1="160" x2="60" y2="210" stroke="rgba(139,92,246,0.4)" stroke-width="1.5"/>
        <line x1="130" y1="160" x2="200" y2="210" stroke="rgba(139,92,246,0.4)" stroke-width="1.5"/>
        <line x1="80" y1="100" x2="180" y2="100" stroke="rgba(139,92,246,0.3)" stroke-width="1"/>
        
        <!-- N√≥s (c√≠rculos) -->
        <circle cx="130" cy="40" r="8" fill="url(#nodeGrad)"><animate attributeName="opacity" values="0.6;1;0.6" dur="2.5s" repeatCount="indefinite"/></circle>
        <circle cx="80" cy="100" r="7" fill="url(#nodeGrad)"><animate attributeName="opacity" values="0.6;1;0.6" dur="3s" repeatCount="indefinite"/></circle>
        <circle cx="180" cy="100" r="7" fill="url(#nodeGrad)"><animate attributeName="opacity" values="0.6;1;0.6" dur="2.8s" repeatCount="indefinite"/></circle>
        <circle cx="130" cy="160" r="9" fill="url(#nodeGrad)"><animate attributeName="opacity" values="0.6;1;0.6" dur="3.2s" repeatCount="indefinite"/></circle>
        <circle cx="60" cy="210" r="6" fill="url(#nodeGrad)"><animate attributeName="opacity" values="0.6;1;0.6" dur="2.6s" repeatCount="indefinite"/></circle>
        <circle cx="200" cy="210" r="6" fill="url(#nodeGrad)"><animate attributeName="opacity" values="0.6;1;0.6" dur="2.9s" repeatCount="indefinite"/></circle>
        
        <text x="130" y="245" text-anchor="middle" fill="rgba(255,255,255,0.7)" font-size="11" font-weight="600">
          REDE
        </text>
      </svg>
    </div>
  </div>

  <!-- üíé PRISMA (transforma√ß√£o de luz) -->
  <div id="frame-prism" class="frame transparent" style="right: 3%; top: 52%; width: 220px; height: 220px;">
    <div class="window-header">
      <button class="toggle-btn" onclick="toggleSize('frame-prism')">‚áï</button>
      <button class="frame-close" onclick="closeFrame(this)">√ó</button>
    </div>
    <div class="frame-content" style="padding: 0;">
      <svg viewBox="0 0 220 220" style="width:100%;height:100%">
        <defs>
          <linearGradient id="prismGrad1" x1="0%" y1="0%" x2="100%" y2="0%">
            <stop offset="0%" style="stop-color:#7c3aed;stop-opacity:0.9"/>
            <stop offset="50%" style="stop-color:#a78bfa;stop-opacity:0.9"/>
            <stop offset="100%" style="stop-color:#5b21b6;stop-opacity:0.9"/>
          </linearGradient>
        </defs>
        
        <!-- Prisma triangular -->
        <polygon points="110,50 180,170 40,170" fill="url(#prismGrad1)" opacity="0.6"/>
        
        <!-- Raio de luz entrando -->
        <line x1="10" y1="80" x2="80" y2="100" stroke="#fff" stroke-width="3" opacity="0.7">
          <animate attributeName="opacity" values="0.4;0.8;0.4" dur="2s" repeatCount="indefinite"/>
        </line>
        
        <!-- Raios coloridos saindo (espectro) -->
        <line x1="140" y1="130" x2="210" y2="140" stroke="#ef4444" stroke-width="2" opacity="0.6"/>
        <line x1="140" y1="140" x2="210" y2="155" stroke="#f97316" stroke-width="2" opacity="0.6"/>
        <line x1="140" y1="150" x2="210" y2="170" stroke="#facc15" stroke-width="2" opacity="0.6"/>
        <line x1="140" y1="160" x2="210" y2="185" stroke="#16a34a" stroke-width="2" opacity="0.6"/>
        <line x1="140" y1="170" x2="210" y2="200" stroke="#0b63d6" stroke-width="2" opacity="0.6"/>
        
        <text x="110" y="205" text-anchor="middle" fill="rgba(255,255,255,0.7)" font-size="10" font-weight="600">
          TRANSFORMA√á√ÉO
        </text>
      </svg>
    </div>
  </div>

  <!-- üìç LABEL C2 -->
  <div id="frame-label" class="frame" style="right: 2%; bottom: 2%; width: 120px; height: 120px;">
    <div class="window-header">
      <button class="toggle-btn" onclick="toggleSize('frame-label')">‚áï</button>
      <button class="frame-close" onclick="closeFrame(this)">√ó</button>
    </div>
    <div class="frame-content" style="padding: 0;">
      <img src="label-c2.png" alt="C2" style="width:100%;height:100%;object-fit:contain;">
    </div>
  </div>

  <!-- üìñ TEXTO APRESENTA√á√ÉO (ABOUT) -->
  <div id="frame-about" class="frame" style="left: 2%; bottom: 2%; width: 340px; height: 460px;">
    <div class="window-header">
      <button class="toggle-btn" onclick="toggleSize('frame-about')">‚áï</button>
      <button class="frame-close" onclick="closeFrame(this)">√ó</button>
    </div>
    <div class="frame-content">
      <div style="font-size:13px;line-height:1.7;color:rgba(255,255,255,0.9);text-align:justify;overflow-y:auto;padding:12px;">
        <h2 style="font-size:19px;margin-bottom:16px;color:#a78bfa;text-align:center">C2 ‚Äî NORTHEAST / IMPLEMENTER</h2>
        
        <p style="margin-bottom:14px;">
          <strong style="color:#8b5cf6;">Compartimento 2</strong> no The New Dial representa <strong>Transforma√ß√£o</strong>, <strong>Implementa√ß√£o</strong> e <strong>Alquimia</strong>.
        </p>

        <p style="margin-bottom:14px;">
          √â o ponto Nordeste da mandala ‚Äî onde a <strong>inten√ß√£o vira ferramenta</strong>, o caos vira ordem, e o sistema se materializa.
        </p>

        <hr style="border:none;height:1px;background:rgba(139,92,246,0.3);margin:18px 0">

        <h3 style="font-size:15px;margin-bottom:12px;color:#8b5cf6;">Qualidades do C2</h3>
        <ul style="margin-left:20px;margin-bottom:14px;font-size:12px;line-height:1.6;">
          <li>üü£ <strong>Cor:</strong> Roxo m√≠stico</li>
          <li>üß≠ <strong>Dire√ß√£o:</strong> Nordeste</li>
          <li>üîÆ <strong>Elemento:</strong> Alquimia</li>
          <li>‚öôÔ∏è <strong>Momento:</strong> Transforma√ß√£o</li>
          <li>üõ†Ô∏è <strong>A√ß√£o:</strong> Implementar, construir, materializar</li>
        </ul>

        <h3 style="font-size:15px;margin-bottom:12px;color:#8b5cf6;margin-top:18px;">O Dashboard</h3>
        <p style="margin-bottom:12px;font-size:12px;">
          N√£o √© "organizador de tarefas" ‚Äî √© <strong>est√∫dio de TV completo</strong> operado por 1 pessoa. Soberania criativa total: produ√ß√£o + organiza√ß√£o + exibi√ß√£o + arquivo = loop fechado.
        </p>

        <p style="font-size:12px;font-style:italic;color:#a78bfa;border-left:3px solid #7c3aed;padding-left:12px;margin-top:18px;">
          "A implementa√ß√£o √© alqu√≠mica: transforma o invis√≠vel (inten√ß√£o) em vis√≠vel (sistema). C2 √© onde o arquiteto se torna construtor."
        </p>
      </div>
    </div>
  </div>

</div>

<script>
let draggedElement = null;
let offsetX = 0, offsetY = 0;

// ‚úñÔ∏è Fechar frame
function closeFrame(btn) {
  btn.closest('.frame').remove();
}

// ‚áï Toggle tamanho
function toggleSize(frameId) {
  const frame = document.getElementById(frameId);
  if (!frame) return;
  
  const currentWidth = parseInt(frame.style.width);
  const isSmall = currentWidth < 250;
  
  frame.style.width = isSmall ? '500px' : '150px';
  frame.style.height = isSmall ? '400px' : '150px';
}

// üñ±Ô∏è Sistema de arrastar frames
function makeDraggable(frame) {
  const header = frame.querySelector('.window-header');
  if (!header) return;

  header.addEventListener('mousedown', startDrag);

  function startDrag(e) {
    if (e.target.tagName === 'BUTTON') return;

    draggedElement = frame;
    frame.classList.add('active');
    header.classList.add('dragging');
    document.body.classList.add("noselect");

    const rect = frame.getBoundingClientRect();
    offsetX = e.clientX - rect.left;
    offsetY = e.clientY - rect.top;

    document.addEventListener('mousemove', drag);
    document.addEventListener('mouseup', stopDrag);
  }

  function drag(e) {
    if (!draggedElement) return;

    const sceneRect = draggedElement.parentElement.getBoundingClientRect();
    let newX = e.clientX - sceneRect.left - offsetX;
    let newY = e.clientY - sceneRect.top - offsetY;

    newX = Math.max(0, Math.min(newX, sceneRect.width - draggedElement.offsetWidth));
    newY = Math.max(0, Math.min(newY, sceneRect.height - draggedElement.offsetHeight));

    draggedElement.style.left = newX + 'px';
    draggedElement.style.top  = newY + 'px';
  }

  function stopDrag() {
    if (draggedElement) {
      header.classList.remove('dragging');
      setTimeout(() => draggedElement.classList.remove('active'), 100);
      draggedElement = null;
    }

    document.body.classList.remove("noselect");
    document.removeEventListener('mousemove', drag);
    document.removeEventListener('mouseup', stopDrag);
  }
}

// üì° LISTENER PARA O BOT√ÉO ABOUT (index.html)
window.addEventListener('message', (event) => {
  if (event.data.type === 'toggleAbout') {
    const aboutFrame = document.getElementById('frame-about');
    if (aboutFrame) {
      aboutFrame.style.display = event.data.visible ? 'flex' : 'none';
      console.log(`üìñ About frame C1: ${event.data.visible ? 'visible' : 'hidden'}`);
    }
  }
});

// üöÄ Inicializar
window.addEventListener('DOMContentLoaded', () => {
  document.querySelectorAll('.frame').forEach(frame => {
    makeDraggable(frame);
  });
});
</script>

</body>
</html>